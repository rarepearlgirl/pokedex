$(document).ready(function(){let e=function(){let e=[];function t(t){"object"==typeof t&&"name"in t?e.push(t):console.log("pokemon is not correct")}function n(){return e}function i(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types.map(e=>e.type.name)}).catch(function(e){console.error(e)})}return{add:t,getAll:n,addListItem:function e(t){let n=document.querySelector(".list-group"),i=document.createElement("list-group-item"),a=JSON.stringify(t);i.classList.add("group-list-item");let l=document.createElement("button");l.innerText=t.name,l.type="button",l.classList.add("button-class","btn"),l.setAttribute("data-toggle","modal"),l.setAttribute("data-target","#modal-container"),l.setAttribute("data-whatever",a),i.appendChild(l),n.appendChild(i),l.addEventListener("click",function(){l.classList.add("btn-primary")})},showDetails:function e(t){i(t).then(function(){!function e(t,n,i,a){let l=document.querySelector("#modal-container");l.innerHTML="";let o=document.createElement("div");o.classList.add("modal");let r=document.createElement("button");r.addEventListener("click",function e(){let t=document.querySelector("#modal-container");t.innerHTML="",t.classList.remove("is-visible"),window.addEventListener("keydown",t=>{let n=document.querySelector("#modal-container");"Escape"===t.key&&n.classList.contains("is-visible")&&e()}),t.addEventListener("click",n=>{n.target===t&&e()})}),r.classList.add("modal-close"),r.innerText="close";let s=document.createElement("h2");s.innerText=t;let d=document.createElement("p");d.innerText=n;let c=document.createElement("img");c.classList.add("pokemon-img"),c.src=i;let m=document.createElement("type");m.innerText=a,o.appendChild(r),o.appendChild(s),o.appendChild(d),o.appendChild(c),o.appendChild(m),l.appendChild(o),l.classList.add("is-visible")}(t.name,t.height,t.imageUrl,t.types)})},loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){t({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(error)})},loadDetails:i}}();e.loadList().then(function(){e.getAll().forEach(function(t){e.addListItem(t)})}),$("#modal-container").on("show.bs.modal",function(t){let n=$(t.relatedTarget),i=n.data("whatever"),a=$(this);e.loadDetails(i).then(function(){a.find(".modal-pokemon-name").text(i.name),a.find(".modal-pokemon-height").text(i.height),a.find(".pokemon-img").attr("src",i.imageUrl),a.find(".modal-pokemon-types").text(i.types)})})});